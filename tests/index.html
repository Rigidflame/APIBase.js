<html>
<head>
    <title>APIBase Demo</title>
    <script type='text/javascript' src='https://cdn.firebase.com/js/client/1.0.15/firebase.js'></script>
    <script src="../apibase.js"></script>
    <script>
        var apibase = new APIBase("https://brilliant-fire-67.firebaseio.com/apibase");
        apibase.retrieve().then(function(API) {
            API.search("Fish").then(function (result) {
                console.log(result);
            });

            API.fail("This will fail.").then(function (result) {
                console.log("Success");
            }, function (err) {
                console.log("Error: " + err);   
            });

            API.rest(100).then(function (result) {
                console.log("Success: " + result);
            }, function (err) {
                console.log("Error: " + err);   
            });

            API.restFail(100).then(function (result) {
                console.log("Success: " + result);
            }, function (err) {
                console.log("Error: " + err);   
            });
        });

        apibase.get('search')("Blind Fish").then(function (result) {
            console.log(result);
        });

    </script>
</head>
<body>
    <button onclick="search('Kitkat')">Search</button>
</body>
</html>